辞書
######


漢字・アルファベットとカタカナの単語単位のペアを保持する，辞書ファイルについて記載する。

なお，辞書を作成するための元データについては，:doc:`datasource` を参照のこと。


種類
=====

本システムで用いる辞書は，姓名の漢字とカナのペアである姓名辞書（表２），一つの漢字に対する読みをペアとして持つ単漢字辞書（表３），「邊」ー「辺」のように同じ漢字で違う字体をペアとして持つ異体字辞書（表４）のそれぞれの詳細を示す。
また，公金受取口座の登録データ（約5400万）から作成した，単語単位での漢字とカナのペア数を保持した統計辞書（表５）も併せて作成する。


姓名辞書
========

漢字・アルファベットとカタカナのペアで作成した辞書

==================== ============== ============ =========================================================
辞書名                 ファイル名       信頼度                    説明
==================== ============== ============ =========================================================
オープンソース辞書       oss.json       高い          オープンソース辞書から抜き出した漢字とカナのペア。姓名以外も含む
Webクロール辞書        crawl.json      高い           Web（漢字・アルファベット姓名とカタカナをまとめたサイト）からスクレイピングした姓名の一覧。外国人名も含む。
姓名辞書              seimei.json     低い            Wikipediaから抜き出して，作成した辞書。（※）
==================== ============== ============ =========================================================

※概要欄を `スクリプト <https://github.com/digital-go-jp/kanjikana-model/dict/wikipedia/>` で抜き出しており，間違いが含まれる。


オープンソース辞書(oss.json)
----------------------------

オープンソースから，漢字とカナのペアを取得し，各漢字ごとにその読みと，辞書の由来（どのオープンソース辞書か）をdicsに複数付与した，JSON形式の辞書を作成する。漢字・アルファベットとカタカナは１：Nの形式で紐づけている。作成した辞書は oss.jsonというファイルにまとめる。

由来は，:doc:`datasource` のデーの元となるcanna，freewnn，ipadic，kakasi，mj，mozc，neologd，skkである。

なお，姓名以外の通常の辞書も含まれる。（「開ける」ー「アケル」など）

  oss.jsonのフォーマット

  .. code-block:: json

      {
        "凄": {
          "スサ": {
            "dics": [
              "ipadic"
            ]
          },
          "スゴ": {
            "dics": [
              "ipadic",
              "mozc"
            ]
          },
      ・・


  例では，漢字「凄」に対し，その読みとしてカタカナが「スサ」「スゴ」のペアとして定義されている。また，「凄」ー「スサ」のペアはipadicに由来（格納されていた）し，「凄」ー「スゴ」はipadicとmozcに由来していることを示している。


Webクロール辞書
---------------

漢字・アルファベット姓名とカタカナ姓名を取りまとめているWebサイトから取得したデータをまとめた辞書。本プログラムではWebクロール辞書は使用しないため空っぽのデータとしている。

フォーマットはoss.jsonと同様



姓名辞書
----------

Wikipediaの概要欄を抽出し，先頭の漢字・アルファベットとそれに続くカッコ内の読みのカタカナを `スクリプト <https://github.com/digital-go-jp/kanjikana-model/dict/wikipedia/>` で抽出したもの。Wikipediaの概要欄は定型フォーマットではなく，推測しながら抜き出しているため，スクリプトのロジックに合わずに間違った組み合わせで，漢字・アルファベットとカタカナ姓名として抜き出されたものも存在することがわかっている。

そのため，本姓名辞書は，間違いが含まれることから，単独で使用すると間違える可能性がある信頼度が高くない辞書であり，他の方法と組み合わせて使用する必要がある。

フォーマットはoss.jsonと同様。



単漢字辞書
========

単漢字辞書は「亜」ー「ア」のペアのように，一つの漢字に対して，複数の読みをペアとして作成した辞書である。姓名以外のものも含む。漢字とカナ姓名のペアを各漢字ごとにその読みと，辞書の由来（どこから取得した辞書か）を付与した，JSON形式の辞書を作成する。作成した辞書は tankanji.jsonというファイルにまとめる。

==================== ================ =========================================================
辞書名                 ファイル名                              説明
==================== ================ =========================================================
単漢字辞書	           tankanji.json    一つの漢字に対して，複数の読みをペアとして作成した辞書
==================== ================ =========================================================

  tankanji.jsonのフォーマット

  .. code-block:: json

      {
          "々": {
              "オナジ": {
                  "dics": [
                      "mj"
                  ]
              },
              "クリカエシ": {
                  "dics": [
                      "mj"
                  ]
              },





異体字辞書
========

異体字辞書は「邊」ー「辺」のペアのように，異体字である漢字に対して，それぞれをペアとして作成した辞書である。この場合「邊」ー「辺」のぺあと，「辺」ー「邊」のペアの２つが作成される。姓名以外のものも含む。漢字とカナ姓名のペアを各漢字ごとにその読みと，辞書の由来（どこから取得した辞書か）を付与した，JSON形式の辞書を作成する。作成した辞書は itaiji.jsonというファイルにまとめる。

==================== ================ =========================================================
辞書名                 ファイル名                              説明
==================== ================ =========================================================
異体字辞書             itaiji.json        「邊」ー「辺」のペアのように，異体字である漢字に対して，それぞれをペアとして作成した辞書
==================== ================ =========================================================

  itaiji.jsonのフォーマット

  .. code-block:: json

      {
          "芦": {
              "蘆": {
                  "dics": [
                      "mozc",
                      "skk",
                      "kakasi"
                  ]
              }
          },
          "蘆": {
              "芦": {
                  "dics": [
                      "mozc",
                      "skk",
                      "kakasi"
                   ]
               }
          },

  例では，「芦」の異体字として「蘆」があることを示している。また，「蘆」と「芦」の両方を見出しとして作成している。これらの異体字のペアはmozc,skk,kakasiに由来（格納されていた）していることを意味している。


統計辞書
========

漢字・アルファベットとカタカナのペアの大量データから，統計的に漢字・アルファベットとカタカナのペアをカウントし，集計した辞書。大量データには漢字・アルファベットとカタカナのペアで間違いがあるものも含んでいる。

なお，本プログラムにおいては，統計辞書は空のデータとしている。

============== =================== =========================================================
辞書名           ファイル名                              説明
============== =================== =========================================================
統計辞書         statistics.json     大量データを基に，漢字姓名とカナ姓名を単語単位に，ペアを作成した辞書
============== =================== =========================================================


  .. code-block:: json

      {
          "隆治": {
              "タカハル": {
                  "freq": 2185,
                  "dics": [
                      "statistics"
                   ]
              },
              "リュウジ": {
                  "freq": 3032,
                  "dics": [
                      "statistics"
                  ]
              },


  例では，「隆治」という漢字に対し，「タカハル」が2185個，「リュウジ」が3032個，「リユウジ」が110個あることを示している。dicsには由来としてstatistics（これ固定）を付与している。
