　

**詳細設計書**

**漢字カナ突合モデルの開発**

令和６年10月30日

**デジタル庁**

目次
====

`2. 概要 <#概要>`__ `1 <#概要>`__

`2.1. 本ドキュメントについて <#本ドキュメントについて>`__
`1 <#本ドキュメントについて>`__

`2.2. 漢字カナ突合モデルについて <#漢字カナ突合モデルについて>`__
`1 <#漢字カナ突合モデルについて>`__

`2.3. 提供方式について <#提供方式について>`__ `1 <#提供方式について>`__

`2.4. 用語集 <#用語集>`__ `2 <#用語集>`__

`3. 構成 <#構成>`__ `5 <#構成>`__

`3.1. 動作環境 <#動作環境>`__ `5 <#動作環境>`__

`3.2. プログラムモジュール <#プログラムモジュール>`__
`5 <#プログラムモジュール>`__

`3.3. モジュールのパッケージ <#モジュールのパッケージ>`__
`5 <#モジュールのパッケージ>`__

`4. coreモジュール <#coreモジュール>`__ `6 <#coreモジュール>`__

`4.1. 概要 <#概要-1>`__ `6 <#概要-1>`__

`4.2. 構成 <#構成-1>`__ `6 <#構成-1>`__

`4.3. エンジン <#マッチングエンジン>`__ `8 <#マッチングエンジン>`__

`5. webappモジュール <#webappモジュール>`__ `11 <#webappモジュール>`__

`5.1. 概要 <#概要-2>`__ `11 <#概要-2>`__

更新履歴

+--------+---------+-------+------------------------------------------+
| 版     | 日付    | 担当  | 内容                                     |
+========+=========+=======+==========================================+
| 1.0    | 202     | 靱    | 初版                                     |
|        | 4/10/30 |       |                                          |
+--------+---------+-------+------------------------------------------+

概要
====

本ドキュメントについて
----------------------

本ドキュメントは，漢字カナ突合モデルの開発にあたり，漢字カナ突合モデル＿要件定義書及び，漢字カナ突合モデル＿基本設計書をもとに，プログラムの詳細設計を記述した資料である。

漢字カナ突合モデルについて
--------------------------

漢字カナ突合モデルは，Javaの実行形式のモジュール(core)であり，Java17で実行可能として提供される。また，WebIF用に，SpringBoot3.2でモジュールをラップしたもの(webapp)を，Docker形式のイメージとして提供される。図１のモデルの提供方式参照のこと。

|時計, モニター, メーター が含まれている画像 自動的に生成された説明|

図１　モデルの提供方式

提供方式について
----------------

漢字カナ突合モデルは，①公金受取口座登録時に漢字姓名とカナ姓名を突合するケースと，②自治体や民間企業等で利用可能とするために外部公開するケースの２つの提供方式とする。②自治体や民間企業等で利用するケースでは，公金受取口座に登録された漢字姓名とカナ姓名から作成した辞書を用いない形式で提供することとするため，①と②の実行形式のプログラムファイルを，別々に作成することとする。

①公金受取口座登録時に漢字姓名とカナ姓名を突合するケース

　「漢字カナ突合モデル」として実行ファイルを作成し，ファイル名を次のとおりとする。(x.yでバージョン番号）

　 kanjikana_core-x.y-jar-with-dependencies.jar

②自治体や民間企業等で利用可能とするために外部公開するケース

　「漢字カナ突合モデル（OSSバージョン）」として実行ファイルを作成し，ファイル名を次のとおりとする。(x.yでバージョン番号。バージョン番号の後ろにoがつく）

　 kanjikana_core_oss-x.yo-jar-with-dependencies.jar

プロブラム一覧ついて
--------------------

　それぞれのプログラムが利用しているモジュール等の詳細については，「別紙　詳細設計書　プログラム一覧」を参照のこと。

用語集
------

本ドキュメントで使用する用語集を表１に示す

表１　用語集

+---------------------+-----------------------------------+------------+
| 用語                | 意味                              | 備考       |
+=====================+===================================+============+
| 漢字カナ突合モデル  | 公金受取口座のデータ              |            |
|                     | も含んだ漢字とカナ姓名を突合する  |            |
|                     | モデルである。JavaのJarファイルで |            |
|                     | 構築され，Docker形式で提供される  |            |
+---------------------+-----------------------------------+------------+
| 漢字カナ突合モデ    | 漢字                              |            |
| ル（OSSバージョン） | カナ突合モデルから，公金受取口座  |            |
|                     | で作成した漢字とカナの辞書をのぞ  |            |
|                     | いた，モデル。JavaのJarファイルで |            |
|                     | 構築され，Docker形式で提供される  |            |
+---------------------+-----------------------------------+------------+
| 漢字姓名とカナ      | 漢字カナ突合モデ                  | マッ       |
| 姓名マッチング機能  | ル及び，漢字カナ突合モデル（OSSバ | チング機能 |
|                     | ージョン）のモデル内の１機能。漢  |            |
|                     | 字姓名とカナ姓名を入力し，漢字姓  |            |
|                     | 名の読みとして入力したカナ姓名が  |            |
|                     | 正しいかどうかを判定して返す機能  |            |
+---------------------+-----------------------------------+------------+
| 漢字姓名から        | 漢字カナ突合モ                    |            |
| カナ姓名の推計機能  | デル及び，漢字カナ突合モデル（OS  |            |
|                     | Sバージョン）のモデル内の１機能。 |            |
|                     | 漢字姓名を入力し，それに対応する  |            |
|                     | 読み仮名であるカナ姓名を複数返す  |            |
+---------------------+-----------------------------------+------------+
| カナ姓名から        | 漢字カナ突                        |            |
| 漢字姓名の推計機能  | 合モデル及び，漢字カナ突合モデル  |            |
|                     | （OSSバージョン）のモデル内の１機 |            |
|                     | 能。カナ姓名を入力し，それに対応  |            |
|                     | する漢字である漢字姓名を複数返す  |            |
+---------------------+-----------------------------------+------------+
| coreモジュール      | 漢字カ                            |            |
|                     | ナ突合モデルもしくは，漢字カナ突  |            |
|                     | 合モデル（OSSバージョン）のモデル |            |
|                     | の実態。Jarファイルで構成される。 |            |
+---------------------+-----------------------------------+------------+
| webappモジュール    | 漢字カナ突合モデルもしくは，漢    |            |
|                     | 字カナ突合モデル（OSSバージョン） |            |
|                     | のWebIFの実態。Jarファイルで構成  |            |
|                     | され，coreモジュールを内包する。  |            |
+---------------------+-----------------------------------+------------+
| オープ              | ipadic [1]_，mozc [2]_，skk [3]   |            |
| ンソース（OSS）辞書 | _　の各オープンソースの辞書のこと |            |
+---------------------+-----------------------------------+------------+
| Webクロール辞書     | Web                               |            |
|                     | からクロールして取得した辞書 [4]_ |            |
+---------------------+-----------------------------------+------------+
| デジタル            | 公金受取口座に                    | 約5400万の |
| 庁辞書（公金受取口  | 登録されている漢字姓名とカナ姓名  | 登録データ |
| 座辞書，目検辞書）  | を目検し，一致と判定した漢字とカ  | から作成。 |
|                     | ナのペアから作成した辞書。ペア数  |            |
|                     | は100万超と多いものの，サンプリン |            |
|                     | グ検査の結果，ある程度の間違いを  |            |
|                     | 含んでいることが確認されている。  |            |
+---------------------+-----------------------------------+------------+
| 単漢字辞書          | 「亜」「ア」のよ                  |            |
|                     | うに，漢字１文字に対して，その読  |            |
|                     | みが複数個紐づけられた辞書。オー  |            |
|                     | プンソース辞書であるmozc [5]_や， |            |
|                     | Webから取得した辞書 [6]_から作成  |            |
+---------------------+-----------------------------------+------------+
| 異体字辞書          | 異体字である「邊」を「            |            |
|                     | 辺」に紐づける辞書。オープンソー  |            |
|                     | ス辞書であるmozc，skk [7]_や，Web |            |
|                     | から取得 [8]_したデータから作成。 |            |
+---------------------+-----------------------------------+------------+
| 統計辞書            | 公金受                            | 約5400万の |
|                     | 取口座に登録されている，単語単位  | 登録データ |
|                     | の漢字とカナのペアを集計し，４つ  | から作成。 |
|                     | 以上ある組み合わせを有効として，  |            |
|                     | 作成した漢字とカナのペアの辞書。  |            |
+---------------------+-----------------------------------+------------+
| 外国人モデル        | 外国                              | マッ       |
|                     | 人に特化したマッチングモデル [9]_ | チング機能 |
+---------------------+-----------------------------------+------------+
| 辞書モデル          | 姓名辞書，単                      | マッ       |
|                     | 漢字辞書，異体字辞書などを用いて  | チング機能 |
|                     | ，単語単位もしくは文字単位で漢字  |            |
|                     | 姓名とカナ姓名（それぞれの部分文  |            |
|                     | 字列含む）のペアが辞書に入ってい  |            |
|                     | るかどうかで，突合を行うモデル。  |            |
+---------------------+-----------------------------------+------------+
| 統計モデル          | 漢字姓名とカナ姓名が単語単位のそ  | マッ       |
|                     | れぞれのペアが，統計辞書に入って  | チング機能 |
|                     | いるかどうかで突合を行うモデル。  |            |
+---------------------+-----------------------------------+------------+
| AIモデル            | Transf                            |            |
|                     | ormer＋Seq２Seqによってあらかじめ |            |
|                     | 漢字姓名とカナ姓名の組み合わせを  |            |
|                     | 事前学習させたモデルを用いて，漢  |            |
|                     | 字姓名からカナ姓名の推計，カナ姓  |            |
|                     | 名から漢字姓名の推計を行うモデル  |            |
+---------------------+-----------------------------------+------------+
| 漢                  | 漢字カナ突合                      |            |
| 字カナ突合システム  | モデルの外部公開や口座情報登録・  |            |
|                     | 連携システムから利用できるように  |            |
|                     | ，漢字カナ突合モデルをラップし，  |            |
|                     | WEBAPI形式で使えるようにしたシス  |            |
|                     | テム。令和6年度「漢字カナ突合シス |            |
|                     | テムの開発・運用保守業務」で調達  |            |
+---------------------+-----------------------------------+------------+
| 簡易モデル          | 信頼度の高い辞書のみを用いて漢    | マッ       |
|                     | 字とカナのマッチングを行うモデル  | チング機能 |
+---------------------+-----------------------------------+------------+
| 詳細モデル          | 信                                | マッ       |
|                     | 頼度の低い辞書などを用いたアルゴ  | チング機能 |
|                     | リズムを複数用意し，それらの判定  |            |
|                     | 結果を多数決で評価し，漢字とカナ  |            |
|                     | が一致しているかどうかを判定する  |            |
+---------------------+-----------------------------------+------------+

構成
====

動作環境
--------

   本プログラムは，下記環境での動作を想定している。

+----------------+-----------------+-----------------+----------------+
| 項目           | 名称            | バージョン      | 備考           |
+================+=================+=================+================+
| OS             | RedHat　EL8     | -               |                |
+----------------+-----------------+-----------------+----------------+
| ミドルウエア   | Java            | 17              |                |
+----------------+-----------------+-----------------+----------------+
| ミドルウエア   | Docker          | 4.9.4           |                |
+----------------+-----------------+-----------------+----------------+

プログラムモジュール
--------------------

   Javaプログラムは次のモジュールで構成されている。ここでモジュールとは一つのJarファイルとして構築され，またその実行が可能なものとして構成されるものである。また，一つのモジュールには複数の実行可能なプログラムがふむまれる。ここで実行可能なプログラムとは，コマンドラインプログラムや，WebのREST形式のインターフェースのことである。

+-----------------+----------------------------------------------------+
| モジュール      | 概要                                               |
+=================+====================================================+
| core            | 漢字姓名とカナ姓名のマッチ                         |
|                 | ング，漢字姓名からカナ姓名の推計，カナ姓名から漢字 |
|                 | 姓名の推計の各プログラムが格納されているモジュール |
+-----------------+----------------------------------------------------+
| webapp          | coreモジュールをラッ                               |
|                 | プし，Web形式でアクセスできるようにするモジュール  |
+-----------------+----------------------------------------------------+

..

   また，各モジュールが利用しているJavaの外部パッケージの一覧は「別紙　詳細設計書　プログラム一覧」の外部パッケージ一覧を参照のこと。

モジュールのパッケージ
----------------------

各モジュールを構成する主なパッケージの概要を示す。詳細については「別紙　詳細設計書　プログラム一覧」のパッケージ一覧を参照のこと。

#. coreモジュール

+--------------------------+-------------------------------------------+
| パッケージ               | 内容                                      |
+==========================+===========================================+
| jp.g                     | 漢字カナ突合モデルの判定を                |
| o.digital.kanjikana.core | 行うコアとなるエンジンやデータを定義する  |
+--------------------------+-------------------------------------------+
| jp.go.digit              | 漢字カナ突合のエンジンを定義する          |
| al.kanjikana.core.engine | エンジンはモデルを構成する最小単位        |
+--------------------------+-------------------------------------------+
| jp.go.digital            | 漢字カナモデルを実行するためのクラス      |
| .kanjikana.core.executor | 入出力に使うクラスなど                    |
+--------------------------+-------------------------------------------+
| jp.go.digi               | 漢字カナの突合のモデルを定義する          |
| tal.kanjikana.core.model | モデルは，エンジ                          |
|                          | ンを組み合わせて，漢字とカナを突合する。  |
+--------------------------+-------------------------------------------+

2. webappモジュール

+----------------------------+-----------------------------------------+
| パッケージ                 | 内容                                    |
+============================+=========================================+
| jp.g                       | 漢字カ                                  |
| o.digital.kanjikana.webapp | ナ突合システムを構成するコントローラ群  |
+----------------------------+-----------------------------------------+
| jp.go.digital              | 漢字カナ突合シ                          |
| .kanjikana.webapp.generate | ステムにおける，生成系のコントローラ。  |
+----------------------------+-----------------------------------------+
| jp.go.digi                 | 漢字カナ突                              |
| tal.kanjikana.webapp.match | 合システムにおける，漢字とカナが一致し  |
|                            | ているかどうかを判定するコントローラ。  |
+----------------------------+-----------------------------------------+

coreモジュール
==============

.. _概要-1:

概要
----

coreモジュールは，次の機能を有する。

- 漢字姓名とカナ姓名を入力し一致かどうかを判定。（マッチング）

- 漢字姓名を入力し，カナ姓名を推計。

- カナ姓名を入力し，漢字姓名を推計。

入出力インターフェースとしては，コマンドラインからの入出力のみに対応している。コマンドラインIFの仕様に関しては，「コマンドラインIF定義書」を参照のこと。

.. _構成-1:

構成
----

　モジュール内には，漢字カナ突合モデルを構成する要素として，エンジン，モデル，ストラテジーの概念を持つ。

　漢字カナ突合モデルのアルゴリズムは，いくつかのストラテジーによって使い分けられる。ストラテジーとは，漢字姓名とカナ姓名の一致判定である詳細モデルや簡易モデル，また，漢字姓名からカナ姓名もしくはカナ姓名から漢字姓名を推計するAIモデルなど，計算としての大きな単位である。

　以下，漢字姓名とカナ姓名を入力し一致かどうかを判定する機能について記述する。

#. ストラテジー

　一つのストラテジーは，いくつかのモデルを組み合わせて構成され，一つのモデルはいくつかのエンジンの組み合わせで構成される。

　ストラテジー，モデル，エンジンの構成の概念図を図２に示す。

|黒い背景と白い文字 自動的に生成された説明|

図２　ストラテジー，モデル，エンジンの関係の概念図

2. モデル

　モデルはエンジンを複数組み合わせて，ひつの機能として漢字姓名とカナ姓名の一致を判定するものである。

　エンジンは，OSSの姓名辞書を使って漢字姓名とカナ姓名の一致を判定するものや，外国人アルファベットのモデルを用いて判定するもの，AIを用いて判定するものなど，様々なものが存在する。これらのどれかを用いて，漢字姓名とカナ姓名を入力してその一致を判定する単機能として構築される。

　エンジンへの入力は，単語単位の漢字姓名とカナ姓名である。
例えば，漢字姓名として「山田　光宙」，カナ姓名として「ヤマダ　ピカチュウ」という突合を行う際には，モデルへは，「山田　光宙」と「ヤマダ　ピカチュウ」が入力されるが，エンジンへは，スペース区切りで分割した，「山田」と「ヤマダ」が初回入力され，次に「光宙」と「ピカチュウ」のペアがエンジンへ入力される（図３参照）。

　

|グラフィカル ユーザー インターフェイス 自動的に生成された説明|

図３　モデル，エンジンの関係の概念図

3. エンジン

　一つのエンジンは，漢字姓名とカナ姓名を入力として受取，漢字姓名，カナ姓名を単語単位もしくは，文字単位で入力し，一致しているかどうかを判定する。エンジンはモデルの中で複数個が順次，単語単位もしくは文字単位で，漢字とカナ姓名が一致しているかどうかを判定しながら，一致と判定されなかった漢字とカナの全部もしくは一部を，後続のエンジンへと判定を委譲しながら，判定がOKとでるまで，順次エンジンを実行する。（図３参照）

マッチングエンジン
------------------

　マッチングのエンジンは，①姓名辞書マッチング，②単漢字辞書マッチング，③外国人マッチング，④統計マッチング，⑤AIマッチングの種類がある。

　また，それぞれのマッチングを実行する際に，入力の漢字姓名に異体字が入っている場合には，異体字辞書を用いて変換してマッチングを行う処理を入れている。基本的に全てのエンジンは漢字姓名とカナ姓名をスペースで分割し，A)単語単位でそれぞれの漢字とカナをマッチングを行う処理となっている。ただし，入力の漢字姓名とカナ姓名のスペース区切りが正しくない場合などに対応できるように，漢字とカナを１文字ずつずらしながらマッチングを行うB)１文字単位の処理も順次行なっている。

　これらの処理を表した図を図４に示す。

|QR コード 自動的に生成された説明|\ 図４　マッチングエンジンの構成

マッチング
----------

#. 姓名辞書マッチング

姓名辞書マッチングでは，入力された漢字姓名とカナ姓名を単語単位もしくは文字単位で，漢字とカナのペアが辞書に存在するかどうかを確認し，辞書に漢字とカナのペアがあれば，一致していると判断するアルゴリズムである。辞書の種類に関しては，「基本設計書」６辞書を参照のこと。

また，辞書とのマッチングのイメージについては，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　マッチング　①姓名辞書マッチングエンジンのイメージ」を参照のこと。

2. 単漢字辞書マッチング

単漢字辞書マッチングは，入力された漢字姓名とカナ姓名を漢字の文字単位で，そのカナとのペアが辞書に存在するかどうかを確認するアルゴリズムである。漢字姓名の漢字を一文字づつ検査し，同時にカナも一文字，二文字と徐々に増やしながら，単漢字とカナのペアが単漢字辞書にかるかどうかを順に検査していく。

単漢字辞書とのマッチングのイメージは，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　マッチング　②単漢字辞書マッチングエンジンのイメージ」を参照のこと。

3. 外国人マッチング

外国人マッチングは，官学連携研究で調達したモデル [10]_をもとに，入力したアルファベットを，複数に分割（アルファベット部分文字列）しつつ，あらかじめ用意している規則一覧（アルファベット部分文字列とカタカナのペア）にあるかどうかを，順次，動的計画法によって探索し，複数に分割された全てのアルファベット部分文字列とカタカナがペアとして作成されれば，アルファベットとカタカナが一致していると判断している。

外国人マッチングのイメージは，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　マッチング　③外国人マッチングエンジンのイメージ」を参照のこと。

4. 統計マッチング

統計マッチングは，令和６年６月現在に公金受取口座に登録されている，本人情報（漢字姓名）及び，口座名義人情報（カタカナ姓名）から，単語単位でその数を集計した辞書を用いて，入力した漢字姓名とカナ姓名が一致しているかどうかを判定する。この際，統計辞書は漢字とカナのペア数が４未満のものは利用しない。

統計マッチングのイメージは，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　マッチング　④統計マッチングエンジンのイメージ」を参照のこと。

5. AIマッチング

AIマッチングは，オープンソース辞書及び，クロール辞書を入力データとし，単語単位の漢字姓名とカナ姓名を入力として，機械学習させたモデルを用いて，漢字姓名からカナ姓名を推計させるものである。機械学習には，自然言語分野のモデルとして評価の高いtransformerモデル [11]_と，時系列を扱い翻訳等に利用可能なSeq2Seq [12]_を組み合わせて作成したプログラムを用いて，事前学習を行なったものを用いた。

この事前学習モデルに漢字姓名を入力し，事前学習モデルが漢字姓名に対応するカタカナを確率が高い方から上位５個を作成させたものの中に，カナ姓名が入っているかどうかで一致を判定する。推論にあたって，BeamSearchアルゴリズムを用いて，探索を行っている。

AIマッチングのイメージは，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　マッチング　⑤AIマッチングエンジンのイメージ」を参照のこと。

また，AIモデルについての学習方法や学習結果については，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　マッチング　⑤AIマッチングエンジン　AIモデルについて」を参照のこと。

異体字変換
----------

異体字変換は，漢字姓名内に異体字があるかどうか検査し，異体字辞書に漢字が登録されてる場合には，順次置き換え，置き換えた漢字姓名とカナ姓名のペアが姓名辞書にあるかどうかで一致を判定する。

異体字変換のイメージは，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　異体字変換」を参照のこと。

突合方法
--------

漢字姓名とカナ姓名のマッチング方法は4.4マッチングに記載の種類があるが，その突合方法は，「単語単位」と「文字単位」の２種類を内部的に使い分けている。

#. 単語単位

漢字姓名とカナ姓名が入力された時に，全角スペースでそれぞれ分割した漢字姓名の単語数とカナ姓名の単語数を比較し，同じ場合には，単語単位の突合を実行する。

単語単位の突合は，漢字姓名とカナ姓名の，先頭から同じ位置にある単語同士のペアが，辞書に含まれるかどうかで一致かどうかを判定する。これを全ての単語で繰り返すことで，姓名の単語単位での突合を行う。

例 漢字姓名；田中　太郎

カナ姓名；タナカ　ジロウ

　　　この入力の場合，田中とタナカは一致と判定，太郎とジロウは不一致と判定

単語単位の突合のイメージは，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　突合方法　①単語単位」を参照のこと。

2. 文字単位

単語単位で突合した結果のうち，不一致と判定された部分について，文字単位の突合を行う。また，漢字姓名とカナ姓名で単語数が合わないものに関しては，漢字姓名とカナ姓名の全角スペースを削除し，それぞれ１つの単語として，文字単位の突合を行う。

文字単位の突合は，漢字姓名とカナ姓名の先頭からの部分文字列をそれぞれ作成し，それが辞書にあるかどうかで一致を判定する。一致した漢字姓名とカナ姓名のそれぞれの部分文字列を，元の漢字姓名とカナ姓名から削除し，再度，漢字姓名とカナ姓名の先頭から文字単位で突合を繰り返し，元の漢字姓名とカナ姓名がなくなるまで繰り返す。全ての部分文字列が一致と判定された場合には，入力された漢字姓名とカナ姓名は一致と判定する。それ以外の場合には不一致と判定する。

文字単位の突合のイメージは，「別紙　詳細設計書　アルゴリズム説明」の「4)エンジンのアルゴリズム　突合方法　②文字単位」を参照のこと。

モデルのタイプ
--------------

漢字姓名とカナ姓名のマッチングには，「簡易モデル」と「詳細モデル」の２つを用意している。

#. 簡易モデル

　「簡易モデル」は信頼度の高い辞書のみを用いて，単語単位で突合を行い，漢字姓名とカナ姓名が一致するかどうかでマッチングを行う。また，アルファベットにおいては，外国人モデルを用いることで，精度の高いマッチングを行っている。

　また，簡易モデルはリアルタイムで用いることを想定しているために，実行速度が早いが，精度が「詳細モデル」に比較し，若干劣る。

2. 詳細モデル

　詳細モデルは，簡易モデルをまず実行し，簡易モデルで一致と判定されたものは，そのまま一致と判定し終了し，不一致と判定された場合に，不一致の漢字姓名とカナ姓名の単語に対して実行する。

　詳細モデルは，辞書モデル，統計モデル，AIモデルに漢字姓名とカナ姓名を入力し，それぞれの突合結果を多数決で，詳細モデルの結果として出力する。

　詳細モデルのイメージは「別紙　詳細設計書　アルゴリズム説明」の「5)マッチングエンジンのアルゴリズムのタイプ」を参照のこと。

webappモジュール
================

.. _概要-2:

概要
----

webappモジュールは，次の機能を有する。coreモジュールを内包しており，Docker形式での実行を提供する。webappモジュールはSpringBootを利用したWebAPIを提供している。

- 漢字姓名とカナ姓名を入力し一致かどうかを判定。

- 漢字姓名を入力し，カナ姓名を推計。

- カナ姓名を入力し，漢字姓名を推計。

入出力インターフェースとしては，WEBAPI形式からの入出力のみに対応している。IFの仕様に関しては，「外部IF定義書」を参照のこと。

.. [1]
   https://ja.osdn.net/frs/g_redir.php?m=ipconnect&f=mecab%2Fmecab-ipadic%2F2.7.0-20070801%2Fmecab-ipadic-2.7.0-20070801.tar.gz

.. [2]
   https://github.com/google/mozc/archive/refs/tags/2.29.5268.102.tar.gz

.. [3]
   https://github.com/skk-dev/dict

.. [4]
   https://belcy.jp/41906

   https://dragon-sassa.com/2019/08/01/post-5480/

   http://www.hapinemu.net

   https://name.ichiran.info/

   https://sp.babynames.jp/

   https://myoji-yurai.net/

   http://name.m3q.jp/

   https://www.worldsys.org/

.. [5]
   https://github.com/google/mozc/archive/refs/tags/2.29.5268.102.tar.gz

.. [6]
   https://moji.or.jp/mojikiban/mjlist/

.. [7]
   https://github.com/skk-dev/dict/raw/master/SKK-JISYO.itaiji

.. [8]
   https://www.tobunken.go.jp/archives/%E7%95%B0%E4%BD%93%E5%AD%97%E3%83%AA%E3%82%B9%E3%83%88/

.. [9]
   `佐藤 理史. 2020 東京オリンピック参加者名簿の翻訳. 自然言語処理,
   Vol.30, No.2, pp748-772,
   2023. <https://www.jstage.jst.go.jp/article/jnlp/30/2/30_748/_article/-char/ja>`__

.. [10]
   佐藤　理史，2020東京オリンピック参加者名簿の翻訳，自然言語処理，Vol30，No2，pp748-772,
   2023

   　https://www.jstage.jst.go.jp/article/jnlp/30/2/30_748/\_pdf/-char/ja　

.. [11]
   Vaswani, A. "Attention is all you need." *Advances in Neural
   Information Processing Systems* (2017).

.. [12]
   Sutskever, I. "Sequence to Sequence Learning with Neural
   Networks." *arXiv preprint arXiv:1409.3215* (2014).

.. |時計, モニター, メーター が含まれている画像 自動的に生成された説明| image:: media/image1.png
   :width: 5.90556in
   :height: 1.5in
.. |黒い背景と白い文字 自動的に生成された説明| image:: media/image2.png
   :width: 5.90556in
   :height: 3.95069in
.. |グラフィカル ユーザー インターフェイス 自動的に生成された説明| image:: media/image3.png
   :width: 3.0437in
   :height: 3.53208in
.. |QR コード 自動的に生成された説明| image:: media/image4.png
   :width: 5.90556in
   :height: 1.32222in
